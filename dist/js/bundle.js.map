{"version":3,"sources":["node_modules/browser-pack/_prelude.js","bundle.js","src/ts/board.ts","src/ts/display.ts","src/ts/main.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","module","Object","defineProperty","value","playSquare","getSquare","resetBoard","getBoard","getScores","getCurrentPlayerMarker","squares","players","X","name","marker","score","turn","O","getCurrentPlayer","checkIfEqual","winSet","console","dir","win","successful","mark","setSquare","some","writeInfoToPage","writeBoardToPage","board","document","querySelectorAll","counter","forEach","square","classList","add","concat","p1","querySelector","p2","_a","p1score","p2score","textContent","toString","setSquareEventHandlers","addEventListener","winScreen","index","Number","id","getElementById","style","display","setResetButton","reset","remove","default","display_1"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",null,"export type Marker = 'O' | 'X';\n\ninterface Player {\n  name: string;\n  marker: Marker;\n  score: number;\n  turn: boolean;\n}\n\ninterface Players {\n  X: Player;\n  O: Player;\n}\n\nlet squares = ['', '', '', '', '', '', '', '', ''];\nconst players: Players = {\n  X: { name: 'X', marker: 'X', score: 0, turn: true },\n  O: { name: 'O', marker: 'O', score: 0, turn: false },\n};\n\nfunction swapPlayers() {\n  players.X.turn = !players.X.turn;\n  players.O.turn = !players.O.turn;\n}\n\nfunction getCurrentPlayer(): Player {\n  if (players.X.turn) {\n    return players.X;\n  }\n  return players.O;\n}\n\nexport function getCurrentPlayerMarker(): string {\n  const player = getCurrentPlayer();\n  return player.marker;\n}\n\nexport function getScores(): number[] {\n  return [players.X.score, players.O.score];\n}\n\nfunction updateScores(): void {\n  const player = getCurrentPlayer();\n  player.score += 1;\n}\n\nexport function getBoard(): string[] {\n  return squares;\n}\n\nexport function resetBoard(): void {\n  squares = ['', '', '', '', '', '', '', '', ''];\n}\n\nexport function getSquare(i: number): string {\n  return squares[i];\n}\n\nfunction setSquare(i: number, mark: string): boolean {\n  if (getSquare(i) === '') {\n    squares[i] = mark;\n    return true;\n  }\n  return false;\n}\n\nfunction checkIfEqual(winSet: string[]): boolean {\n  return winSet[0] === winSet[1] && winSet[1] === winSet[2] && winSet[0] !== '';\n}\n\nfunction checkForWin(): boolean {\n  const lines = [\n    [squares[0], squares[1], squares[2]],\n    [squares[3], squares[4], squares[5]],\n    [squares[6], squares[7], squares[8]],\n    [squares[0], squares[3], squares[6]],\n    [squares[1], squares[4], squares[7]],\n    [squares[2], squares[5], squares[8]],\n    [squares[0], squares[4], squares[8]],\n    [squares[2], squares[4], squares[6]],\n  ];\n\n  return lines.some(checkIfEqual);\n}\n\nexport function playSquare(i: number): boolean {\n  console.dir(players);\n  const marker = getCurrentPlayerMarker();\n  let win = false;\n\n  const successful = setSquare(i, marker);\n\n  if (successful) {\n    win = checkForWin();\n    if (win) updateScores();\n    swapPlayers();\n  }\n\n  return win;\n}\n","// eslint-disable-next-line import/no-unresolved, import/extensions\nimport * as board from './board';\n\nconst squares = document.querySelectorAll<HTMLElement>('.square');\n\nexport function writeBoardToPage(): void {\n  let counter = 0;\n  let marker: string = '';\n\n  squares.forEach((square) => {\n    marker = board.getSquare(counter);\n    if (marker !== '') {\n      square.classList.add(`${marker}`);\n    }\n    counter += 1;\n  });\n}\n\nexport function writeInfoToPage(): void {\n  const p1 = document.querySelector('.player1');\n  const turn = document.querySelectorAll('.turn');\n  const p2 = document.querySelector('.player2');\n\n  const [p1score, p2score] = board.getScores();\n  const marker = board.getCurrentPlayerMarker() === 'X' ? '✖' : 'ⵔ ';\n\n  if (p1 !== null && turn !== null && p2 !== null) {\n    p1.textContent = p1score.toString();\n    turn.forEach((e) => {\n      e.textContent = marker;\n    });\n    p2.textContent = p2score.toString();\n  }\n}\n\nfunction resetBoardClasses(): void {\n  squares.forEach((square) => {\n    square.classList.remove('X', 'O');\n  });\n}\n\nfunction displayWin(): void {\n  // TODO: Fix players swapping before displaying win page.\n  const winScreen = document.getElementById('win-screen');\n  if (winScreen != null) {\n    winScreen.style.display = 'block';\n  }\n}\n\nfunction hideWin(): void {\n  const winScreen = document.getElementById('win-screen');\n  if (winScreen != null) {\n    winScreen.style.display = 'none';\n  }\n}\n\nfunction setSquareEventHandlers(): void {\n  let isWin = false;\n\n  squares.forEach((square) => {\n    square.addEventListener('click', () => {\n      const index: number = Number(square.id);\n      isWin = board.playSquare(index);\n      if (isWin) {\n        writeBoardToPage();\n        displayWin();\n      } else {\n        writeBoardToPage();\n        writeInfoToPage();\n      }\n    });\n  });\n}\n\nfunction setResetButton(): void {\n  const reset = document.querySelectorAll('.reset');\n\n  reset?.forEach((e) => {\n    e.addEventListener('click', () => {\n      board.resetBoard();\n      resetBoardClasses();\n      writeBoardToPage();\n      writeInfoToPage();\n      hideWin();\n    });\n  });\n}\n\nexport default function displayHandler(): void {\n  setResetButton();\n  setSquareEventHandlers();\n  writeBoardToPage();\n  writeInfoToPage();\n}\n","// eslint-disable-next-line import/extensions\nimport * as board from './board';\nimport displayHandler from './display';\n\nboard.resetBoard();\ndisplayHandler();\n"]}